<!-- TOC -->

- [1. ğŸŒ² es6 ä¹‹ å­—ç¬¦ä¸²çš„æ‰©å±•](#1-ğŸŒ²-es6-ä¹‹-å­—ç¬¦ä¸²çš„æ‰©å±•)
- [2. ğŸŒ² es6 ä¹‹ æ­£åˆ™çš„æ‰©å±•](#2-ğŸŒ²-es6-ä¹‹-æ­£åˆ™çš„æ‰©å±•)
- [3. ğŸŒ² es6 ä¹‹ æ•°å­—çš„æ‰©å±•](#3-ğŸŒ²-es6-ä¹‹-æ•°å­—çš„æ‰©å±•)
- [4. ğŸŒ² es6 ä¹‹ promise](#4-ğŸŒ²-es6-ä¹‹-promise)
- [5. ğŸŒ² Symbol](#5-ğŸŒ²-symbol)
  - [5.1. â€¢ æ¦‚å¿µ](#51-â€¢-æ¦‚å¿µ)
  - [5.2. â€¢ åšä¸ºå±æ€§åçš„ Symbol](#52-â€¢-åšä¸ºå±æ€§åçš„-symbol)
  - [5.3. â€¢ æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²](#53-â€¢-æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²)
  - [5.4. â€¢ å±æ€§åçš„éå†](#54-â€¢-å±æ€§åçš„éå†)
  - [5.5. â€¢ Symbol.for()ï¼ŒSymbol.keyFor()](#55-â€¢-symbolforsymbolkeyfor)
  - [5.6. â€¢ å®ä¾‹ï¼šæ¨¡å—çš„ Singleton æ¨¡å¼](#56-â€¢-å®ä¾‹æ¨¡å—çš„-singleton-æ¨¡å¼)
  - [5.7. â€¢ ğŸå†…ç½®çš„ Symbol å€¼](#57-â€¢-ğŸå†…ç½®çš„-symbol-å€¼)

<!-- /TOC -->

# 1. ğŸŒ² es6 ä¹‹ å­—ç¬¦ä¸²çš„æ‰©å±•

* normalize æ˜¯ä¸ºæ¬§æ´²è¯­è¨€è®¾è®¡çš„
* includes(), startsWith(), endsWith()
```javaScript
let s = 'Hello world!';
s.startsWith('world', 6) // true
s.endsWith('Hello', 5) // true
s.includes('Hello', 6) // false
//ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°næ—¶ï¼ŒendsWithçš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰nä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬nä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚
```
* repeat() é‡å¤æ¬¡æ•°,å‘ä¸‹å–æ•´,NaNæ•ˆæœç­‰äº0,0çš„æ•ˆæœæ˜¯åˆ é™¤
* padStart(5, 'ab') padEnd() å¤´éƒ¨è¡¥å…¨ï¼Œå°¾éƒ¨è¡¥å…¨
* matchAll() æ­£åˆ™è¡¨è¾¾å¼æ‰€æœ‰åŒ¹é…
* ğŸ”¥æ ‡ç­¾æ¨¡æ¿æ²¡çœ‹æ‡‚
* String.raw()
```javaScript
String.raw`Hi\n${2+3}!`;  // ä¼šå¯¹ \ è¿›è¡Œè½¬ä¹‰
String.raw({ raw: 'test' }, 0, 1, 2);   // 't0e1s2t'
```

# 2. ğŸŒ² es6 ä¹‹ æ­£åˆ™çš„æ‰©å±•
* ä¸åŠ uä¿®é¥°ç¬¦ï¼Œå°±æ— æ³•è¯†åˆ«éè§„èŒƒçš„Kå­—ç¬¦ã€‚
* y ä¿®é¥°ç¬¦ï¼Œç²˜è¿åŒ¹é…ï¼ˆä»ä¸Šä¸€æ¬¡ç»“æœçš„å¤´éƒ¨å¼€å§‹ï¼‰

```javaScript
//yä¿®é¥°ç¬¦çš„è®¾è®¡æœ¬æ„ï¼Œå°±æ˜¯è®©å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^åœ¨å…¨å±€åŒ¹é…ä¸­éƒ½æœ‰æ•ˆã€‚
//stickyå±æ€§æ¥åˆ¤æ–­æ˜¯å¦æœ‰
//flagså±æ€§ï¼Œè·å–ä¿®é¥°ç¬¦
```
* s ä¿®é¥°ç¬¦ï¼Œ dotAll å±æ€§å¯ä»¥è·å–
* ğŸ”¥å…ˆè¡Œæ–­è¨€ åè¡Œæ–­è¨€
* \*unicode å±æ€§ç±»ï¼Œp{Number} ç”šè‡³ä¼šåŒ¹é…ç½—é©¬æ•°å­—
* å…·åç»„ 
```javaScript
let reg = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/
//å¦‚æœå…·åç»„æ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆå¯¹åº”çš„groupså¯¹è±¡å±æ€§ä¼šæ˜¯undefined
```
* è§£æ„èµ‹å€¼å’Œæ›¿æ¢
* å¼•ç”¨å…·ååŒ¹é…   \k<ç»„å>  æˆ–è€… \1$
* String.prototype.matchAll è¿”å›çš„æ˜¯éå†å™¨ï¼ˆè²Œä¼¼chromeä¸æ”¯æŒï¼‰

# 3. ğŸŒ² es6 ä¹‹ æ•°å­—çš„æ‰©å±•
* äºŒè¿›åˆ¶ 0b å…«è¿›åˆ¶ 0o
* Number.isFinite(), Number.isNaN()
* å°†å…¨å±€æ–¹æ³• parseInt() å’Œ parseFloat() ï¼Œç§»æ¤åˆ° Number å¯¹è±¡ä¸Šé¢ï¼Œè¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚
* Number.isInteger()
```javaScript
//å­˜åœ¨è¯¯åˆ¤é—®é¢˜ï¼Œå°æ•°è¶…è¿‡53ä¸ªäºŒè¿›åˆ¶ä½
//JavaScript å†…éƒ¨ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°é‡‡ç”¨çš„æ˜¯åŒæ ·çš„å‚¨å­˜æ–¹æ³•
```
* ğŸ”¥Number.EPSILONï¼Œæå°å¸¸é‡ï¼šä¸ºæµ®ç‚¹æ•°è®¡ç®—ï¼Œè®¾ç½®è¯¯å·®èŒƒå›´ã€‚
* Number.isSafeInteger()
```javaScript
// ä¸¤ä¸ªå¸¸é‡ï¼šNumber.MAX_SAFE_INTEGERå’Œ Number.MIN_SAFE_INTEGER
// æœ€å¤§å­˜å‚¨ 2 çš„ 53 æ¬¡æ–¹
```
* Mathçš„æ‰©å±•
```javaScript
/*
Math.trunc	èˆå¼ƒå°æ•°
Math.sign	åˆ¤æ–­æ­£è´Ÿ 0 -0
Math.cbrt	ç«‹æ–¹æ ¹
Math.clz32	è¿”å›ä¸€ä¸ªæ•°çš„ 32 ä½æ— ç¬¦å·æ•´æ•°å½¢å¼æœ‰å¤šå°‘ä¸ªå‰å¯¼ 0
Math.imul 	ä¸¤ä¸ªæ•°ä»¥ 32 ä½å¸¦ç¬¦å·æ•´æ•°å½¢å¼ç›¸ä¹˜çš„ç»“æœ
Math.fround	32ä½å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼
Math.hypot	æ–¹æ³•è¿”å›æ‰€æœ‰å‚æ•°çš„å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹
Math.expm1(x)	è¿”å› ex - 1
Math.log1p(x)		è¿”å›1 + xçš„è‡ªç„¶å¯¹æ•°
Math.log10(x)		è¿”å›ä»¥ 10 ä¸ºåº•çš„xçš„å¯¹æ•°
Math.log2(x)		è¿”å›ä»¥ 2 ä¸ºåº•çš„xçš„å¯¹æ•°
*/
```
* ğŸ”¥åŒæ›²å‡½æ•°æ–¹æ³•
* æŒ‡æ•°è¿ç®—ç¬¦ \*\*  å³ç»“åˆ

# 4. ğŸŒ² es6 ä¹‹ promise
* Promise ä¼šåƒæ‰é”™è¯¯
* catchæ–¹æ³•è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ª Promise å¯¹è±¡
* finallyæ–¹æ³•ä¸€å®šä¼šæ‰§è¡Œï¼Œfinallyæ–¹æ³•æ€»æ˜¯ä¼šè¿”å›åŸæ¥çš„å€¼ã€‚
* Promise.allæ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹
```javaScript
// ä½œä¸ºå‚æ•°çš„ promise çš„ reject æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ª promiseï¼Œä¼šå¯¼è‡´ä¸è§¦å‘ all çš„ reject
```
* Promise.race åªè¦æœ‰ä¸€ä¸ªå‚æ•°æ”¹å˜äº†çŠ¶æ€å°±ä¼šè§¦å‘
* ğŸPromise.try

# 5. ğŸŒ² Symbol

## 5.1. â€¢ æ¦‚å¿µ

```javaScript
// å¯ä»¥è½¬å­—ç¬¦ä¸²ï¼Œå¸ƒå°” ä½†æ˜¯ä¸èƒ½è½¬æ•°å­—
```

## 5.2. â€¢ åšä¸ºå±æ€§åçš„ Symbol 
```javaScript
const mySymbol = Symbol();
const a = {};
a.mySymbol = 'Hello!'; // ä¼šè¢«å½“æˆå­—ç¬¦ä¸²å¤„ç†
a[mySymbol] // undefined // æ­£ç¡®çš„å‘½åæ–¹å¼

// Symbol å€¼ä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ï¼Œä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦ã€‚

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

let obj = {
  [s]: function (arg) { ... }
};
// åœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œä½¿ç”¨ Symbol å€¼å®šä¹‰å±æ€§æ—¶ï¼ŒSymbol å€¼å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·ä¹‹ä¸­ã€‚

const COLOR_RED    = Symbol();
const COLOR_GREEN  = Symbol();

function getComplement(color) {
  switch (color) {
    case COLOR_RED:
      return COLOR_GREEN;
    case COLOR_GREEN:
      return COLOR_RED;
    default:
      throw new Error('Undefined color');
    }
}

// switch ä¸­ä½¿ç”¨ Symbolï¼Œä¿è¯ä¸ä¼šæœ‰é‡å¤
```
## 5.3. â€¢ æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²
```javaScript
// é­”æœ¯å­—ç¬¦ä¸²æŒ‡çš„æ˜¯ï¼Œåœ¨ä»£ç ä¹‹ä¸­å¤šæ¬¡å‡ºç°ã€ä¸ä»£ç å½¢æˆå¼ºè€¦åˆçš„æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å€¼
const shapeType = {
  triangle: 'Triangle'
};

function getArea(shape, options) {
  let area = 0;
  switch (shape) {
    case shapeType.triangle:
      area = .5 * options.width * options.height;
      break;
  }
  return area;
}

getArea(shapeType.triangle, { width: 100, height: 100 });
```
## 5.4. â€¢ å±æ€§åçš„éå†
```javaScript
let obj = {
  [Symbol('my_key')]: 1,
  enum: 2,
  nonEnum: 3
};
Object.getOwnPropertySymbols(obj) // [Symbol(my_key)]
Reflect.ownKeys(obj) // ["enum", "nonEnum", Symbol(my_key)]

// ä¸¤ä¸ªæ–°åŠ çš„æ–¹æ³•ï¼Œä¸€ä¸ªè·å– Symbol å±æ€§ï¼Œä¸€ä¸ªè·å–æ‰€æœ‰å±æ€§ Object.getOwnPropertyNames åªèƒ½è·å–åˆ°ä¼ ç»Ÿå±æ€§

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

let size = Symbol('size');
class Collection {
  constructor() {
    this[size] = 0;
  }

  add(item) {
    this[this[size]] = item;
    this[size]++;
  }

  static sizeOf(instance) {
    return instance[size];
  }
}

let x = new Collection();
Collection.sizeOf(x) // 0

x.add('foo');
Collection.sizeOf(x) // 1

Object.keys(x) // ['0']
Object.getOwnPropertyNames(x) // ['0']
Object.getOwnPropertySymbols(x) // [Symbol(size)]

// Symbol å€¼ä½œä¸ºå±æ€§åæ—¶ï¼Œè¯¥å±æ€§è¿˜æ˜¯å…¬å¼€å±æ€§ï¼Œä¸æ˜¯ç§æœ‰å±æ€§ã€‚
// è¯¥ä¾‹ï¼šä¸ºå¯¹è±¡å®šä¹‰ä¸€äº›éç§æœ‰çš„ã€ä½†åˆå¸Œæœ›åªç”¨äºå†…éƒ¨çš„æ–¹æ³•ã€‚
```

## 5.5. â€¢ Symbol.for()ï¼ŒSymbol.keyFor() 
```javaScript
Symbol.for("bar") === Symbol.for("bar") // true
Symbol("bar") === Symbol("bar") // false
let s1 = Symbol.for("foo");
Symbol.keyFor(s1) // "foo"
let s2 = Symbol("foo");
Symbol.keyFor(s2) // undefined

// Symbol.for('cat')30 æ¬¡ï¼Œæ¯æ¬¡éƒ½ä¼šè¿”å›åŒä¸€ä¸ª Symbol å€¼
// Symbol('cat')30 æ¬¡ï¼Œä¼šè¿”å› 30 ä¸ªä¸åŒçš„ Symbol å€¼
// Symbol.keyForæ–¹æ³•è¿”å›ä¸€ä¸ªå·²ç™»è®°çš„ Symbol ç±»å‹å€¼çš„key

***â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”***

iframe = document.createElement('iframe');
iframe.src = String(window.location);
document.body.appendChild(iframe);

iframe.contentWindow.Symbol.for('foo') === Symbol.for('foo')

// Symbol.forä¸º Symbol å€¼ç™»è®°çš„åå­—ï¼Œæ˜¯å…¨å±€ç¯å¢ƒçš„ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ iframe æˆ– service worker ä¸­å–åˆ°åŒä¸€ä¸ªå€¼ã€‚
```
## 5.6. â€¢ å®ä¾‹ï¼šæ¨¡å—çš„ Singleton æ¨¡å¼

```javaScript
// mod.js
const FOO_KEY = Symbol.for('foo');

function A() {
  this.foo = 'hello';
}

if (!global[FOO_KEY]) {
  global[FOO_KEY] = new A();
}

module.exports = global[FOO_KEY];

// ä¸Šé¢ä»£ç ä¸­ï¼Œå¯ä»¥ä¿è¯global[FOO_KEY]ä¸ä¼šè¢«æ— æ„é—´è¦†ç›–ï¼Œä½†è¿˜æ˜¯å¯ä»¥è¢«æ”¹å†™ã€‚

global[Symbol.for('foo')] = { foo: 'world' };

const a = require('./mod.js');
```

## 5.7. â€¢ ğŸå†…ç½®çš„ Symbol å€¼