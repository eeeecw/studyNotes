<!-- TOC -->

- [1. å°å†Œ 1ï¼šES åŸºç¡€çŸ¥è¯†ç‚¹ä¸é«˜é¢‘è€ƒé¢˜è§£æ](#1-å°å†Œ-1es-åŸºç¡€çŸ¥è¯†ç‚¹ä¸é«˜é¢‘è€ƒé¢˜è§£æ)
  - [1.1. åŸå‹ and åŸå‹é“¾](#11-åŸå‹-and-åŸå‹é“¾)
- [2. å°å†Œ 2ï¼šJS-Web-API çŸ¥è¯†ç‚¹ä¸é«˜é¢‘è€ƒé¢˜è§£æ](#2-å°å†Œ-2js-web-api-çŸ¥è¯†ç‚¹ä¸é«˜é¢‘è€ƒé¢˜è§£æ)
  - [2.1. äº‹ä»¶ä»£ç†](#21-äº‹ä»¶ä»£ç†)
- [3. Class çš„åŸºæœ¬è¯­æ³•](#3-class-çš„åŸºæœ¬è¯­æ³•)
  - [3.1. ç®€ä»‹](#31-ç®€ä»‹)
  - [3.2. ä¸¥æ ¼æ¨¡å¼](#32-ä¸¥æ ¼æ¨¡å¼)
  - [3.3. constructor æ–¹æ³•](#33-constructor-æ–¹æ³•)
  - [3.4. ç±»çš„å®ä¾‹å¯¹è±¡](#34-ç±»çš„å®ä¾‹å¯¹è±¡)
  - [3.5. Class è¡¨è¾¾å¼](#35-class-è¡¨è¾¾å¼)
  - [3.6. ä¸å­˜åœ¨å˜é‡æå‡](#36-ä¸å­˜åœ¨å˜é‡æå‡)
  - [3.7. ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§](#37-ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§)
  - [3.8. this](#38-this)
  - [3.9. name å±](#39-name-å±)
  - [3.10. Class çš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰](#310-class-çš„å–å€¼å‡½æ•°getterå’Œå­˜å€¼å‡½æ•°setter)
    - [3.10.1. ğŸ”¥å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°æ˜¯è®¾ç½®åœ¨å±æ€§çš„ Descriptor å¯¹è±¡ä¸Š](#3101-ğŸ”¥å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°æ˜¯è®¾ç½®åœ¨å±æ€§çš„-descriptor-å¯¹è±¡ä¸Š)
  - [3.11. Class çš„ Generator æ–¹æ³•](#311-class-çš„-generator-æ–¹æ³•)
  - [3.12. Class çš„é™æ€æ–¹æ³•](#312-class-çš„é™æ€æ–¹æ³•)
  - [3.13. Class çš„é™æ€å±æ€§å’Œå®ä¾‹å±æ€§](#313-class-çš„é™æ€å±æ€§å’Œå®ä¾‹å±æ€§)
  - [3.14. new.target å±æ€§](#314-newtarget-å±æ€§)
- [4. ES6 ä¹‹ Class çš„ç»§æ‰¿](#4-es6-ä¹‹-class-çš„ç»§æ‰¿)
  - [4.1. ç®€ä»‹](#41-ç®€ä»‹)
  - [4.2. Object.getPrototypeOf()](#42-objectgetprototypeof)
  - [4.3. super()](#43-super)
  - [4.4. ç±»çš„ prototype å±æ€§å’Œ__proto__å±æ€§](#44-ç±»çš„-prototype-å±æ€§å’Œ__proto__å±æ€§)
  - [4.5. åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿](#45-åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿)
  - [4.6. ğŸ”¥ Mixin æ¨¡å¼çš„å®ç°](#46-ğŸ”¥-mixin-æ¨¡å¼çš„å®ç°)

<!-- /TOC -->
# 1. å°å†Œ 1ï¼šES åŸºç¡€çŸ¥è¯†ç‚¹ä¸é«˜é¢‘è€ƒé¢˜è§£æ

## 1.1. åŸå‹ and åŸå‹é“¾
```javaScript
var item
for (item in f) {
    // é«˜çº§æµè§ˆå™¨å·²ç»åœ¨ for in ä¸­å±è”½äº†æ¥è‡ªåŸå‹çš„å±æ€§ï¼Œä½†æ˜¯è¿™é‡Œå»ºè®®å¤§å®¶è¿˜æ˜¯åŠ ä¸Šè¿™ä¸ªåˆ¤æ–­ï¼Œä¿è¯ç¨‹åºçš„å¥å£®æ€§
    if (f.hasOwnProperty(item)) {
        console.log(item)
    }
}

// Object.prototype.__proto__ === null

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

Object.prototype.toString.call() 
// ç”¨æ¥åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œä¸å…¼å®¹æ­£åˆ™
```

# 2. å°å†Œ 2ï¼šJS-Web-API çŸ¥è¯†ç‚¹ä¸é«˜é¢‘è€ƒé¢˜è§£æ
## 2.1. äº‹ä»¶ä»£ç†
```javaScript
function bindEvent(elem, type, selector, fn) {
    // è¿™æ ·å¤„ç†ï¼Œå¯æ¥æ”¶ä¸¤ç§è°ƒç”¨æ–¹å¼ bindEvent(div1, 'click', 'a', function () {...}) å’Œ bindEvent(div1, 'click', function () {...}) è¿™ä¸¤ç§
    if (fn == null) {
        fn = selector
        selector = null
    }

    // ç»‘å®šäº‹ä»¶
    elem.addEventListener(type, function (e) {
        var target
        if (selector) {
            // æœ‰ selector è¯´æ˜éœ€è¦åšäº‹ä»¶ä»£ç†
            // è·å–è§¦å‘æ—¶é—´çš„å…ƒç´ ï¼Œå³ e.target
            target = e.target
            // çœ‹æ˜¯å¦ç¬¦åˆ selector è¿™ä¸ªæ¡ä»¶
            if (target.matches(selector)) {
                fn.call(target, e)
            }
        } else {
            // æ—  selector ï¼Œè¯´æ˜ä¸éœ€è¦äº‹ä»¶ä»£ç†
            fn(e)
        }
    })
}
```

# 3. Class çš„åŸºæœ¬è¯­æ³•

## 3.1. ç®€ä»‹
```javaScript
// ç±»å†…å®šä¹‰çš„æ–¹æ³•ï¼Œä¸å¯æšä¸¾
// æ„é€ å‡½æ•°å®šä¹‰çš„æ–¹æ³•ï¼Œå¯æšä¸¾

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
let methodName = 'getArea';

class Square {
  constructor(length) {
    // ...
  }

  [methodName]() {
    // ...
  }
}
// ä¸Šé¢ä»£ç ä¸­ï¼ŒSquareç±»çš„æ–¹æ³•ågetAreaï¼Œæ˜¯ä»è¡¨è¾¾å¼å¾—åˆ°çš„ã€‚
```

## 3.2. ä¸¥æ ¼æ¨¡å¼

## 3.3. constructor æ–¹æ³•
```javaScript
class Foo {
  constructor() {
    return Object.create(null);
  }
}

new Foo() instanceof Foo // false 
// constructoræ–¹æ³•é»˜è®¤è¿”å›å®ä¾‹å¯¹è±¡ï¼ˆå³thisï¼‰ï¼Œå®Œå…¨å¯ä»¥æŒ‡å®šè¿”å›å¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚
```

## 3.4. ç±»çš„å®ä¾‹å¯¹è±¡
```javaScript
// é€šè¿‡ this å®šä¹‰çš„å±æ€§åœ¨ ç±»çš„å®ä¾‹ä¸Šï¼Œ å¦åˆ™éƒ½åœ¨ ç±» çš„åŸå‹ä¸Š
```

## 3.5. Class è¡¨è¾¾å¼
```javaScript
// é‡‡ç”¨ Class è¡¨è¾¾å¼ï¼Œå¯ä»¥å†™å‡ºç«‹å³æ‰§è¡Œçš„ Classã€‚
```

## 3.6. ä¸å­˜åœ¨å˜é‡æå‡

## 3.7. ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§
```javaScript
class Widget {
  foo (baz) {
    bar.call(this, baz);
  }
}

function bar(baz) {
  return this.snaf = baz;
}

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

// åˆ©ç”¨Symbolå€¼çš„å”¯ä¸€æ€§ï¼Œç¬¬ä¸‰æ–¹æ— æ³•è·å–
```

## 3.8. this
```javaScript
// this æŒ‡å‘ç±»çš„å®ä¾‹ï¼Œæå–å‡ºç±»çš„æ–¹æ³•å•ç‹¬è°ƒç”¨ï¼Œä¼šæŠ¥æ‰¾ä¸åˆ°thisçš„é”™
```


## 3.9. name å±

## 3.10. Class çš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰
### 3.10.1. ğŸ”¥å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°æ˜¯è®¾ç½®åœ¨å±æ€§çš„ Descriptor å¯¹è±¡ä¸Š

## 3.11. Class çš„ Generator æ–¹æ³•
```javaScript
// æŸä¸ªæ–¹æ³•ä¹‹å‰åŠ ä¸Šæ˜Ÿå·ï¼ˆ*ï¼‰
class Foo {
  constructor(...args) {
    this.args = args;
  }
  * [Symbol.iterator]() {
    for (let arg of this.args) {
      yield arg;
    }
  }
}

for (let x of new Foo('hello', 'world')) {
  console.log(x);
}
// æˆ‘çŒœæ˜¯ç”¨æ¥éå†çš„
```
## 3.12. Class çš„é™æ€æ–¹æ³•
```javaScript
class Foo {
  static classMethod() {
    return 'hello';
  }
}

class Bar extends Foo {
  static classMethod() {
    return super.classMethod() + ', too';
  }
}

Bar.classMethod() // "hello, too"
//é™æ€æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥ä»superå¯¹è±¡ä¸Šè°ƒç”¨çš„
```
## 3.13. Class çš„é™æ€å±æ€§å’Œå®ä¾‹å±æ€§

```javaScript
class Foo {
}

Foo.prop = 1;
// ç›®å‰åªæœ‰è¿™ä¸€ç§å†™æ³•ï¼Œå¹¶ä¸æ˜¯å¾ˆå®Œå–„ï¼Œæœ‰æ–°ææ¡ˆ

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

// ç›®å‰å®ä¾‹å±æ€§åªèƒ½å†™åœ¨æ„é€ æ–¹æ³•å†…
```

## 3.14. new.target å±æ€§

```javaScript
// ä¿æ„é€ å‡½æ•°åªèƒ½é€šè¿‡newå‘½ä»¤è°ƒç”¨ã€‚
// Class å†…éƒ¨è°ƒç”¨new.targetï¼Œè¿”å›å½“å‰ Class
// new.targetä¼šè¿”å›å­ç±» 
```
# 4. ES6 ä¹‹ Class çš„ç»§æ‰¿
## 4.1. ç®€ä»‹
```javaScript
// å­ç±»çš„ constructor ä¸­å¿…é¡»è°ƒç”¨super 
// çˆ¶ç±»ä¸­çš„ é™æ€æ–¹æ³•ä¹Ÿä¼šè¢«ç»§æ‰¿
```
## 4.2. Object.getPrototypeOf()

```javaScript
Object.getPrototypeOf(ColorPoint) === Point
// Object.getPrototypeOfæ–¹æ³•å¯ä»¥ç”¨æ¥ä»å­ç±»ä¸Šè·å–çˆ¶ç±»
```
## 4.3. super()

```javaScript
// super å½“ä½œæ–¹æ³•ï¼Œè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

class A {
  constructor() {
    this.x = 1;
  }
  print() {
    console.log(this.x);
  }
}

class B extends A {
  constructor() {
    super();
    this.x = 2;
  }
  m() {
    super.print();
  }
}

let b = new B();
b.m() // 2
// åœ¨å­ç±»æ™®é€šæ–¹æ³•ä¸­é€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•å†…éƒ¨çš„thisæŒ‡å‘å½“å‰çš„å­ç±»å®ä¾‹ã€‚


â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

class A {
  constructor() {
    this.x = 1;
  }
  static print() {
    console.log(this.x);
  }
}

class B extends A {
  constructor() {
    super();
    this.x = 2;
  }
  static m() {
    super.print();
  }
}

B.x = 3;
B.m() // 3
// åœ¨å­ç±»çš„é™æ€æ–¹æ³•ä¸­é€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•å†…éƒ¨çš„thisæŒ‡å‘å½“å‰çš„å­ç±»
```

## 4.4. ç±»çš„ prototype å±æ€§å’Œ__proto__å±æ€§

```javaScript
class A {
}

class B extends A {
}

B.__proto__ === A // true
B.prototype.__proto__ === A.prototype // true

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

class A {
}

A.__proto__ === Function.prototype // true
A.prototype.__proto__ === Object.prototype // true

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

var p1 = new Point(2, 3);
var p2 = new ColorPoint(2, 3, 'red');

p2.__proto__ === p1.__proto__ // false
p2.__proto__.__proto__ === p1.__proto__ // true
// å­ç±»çš„åŸå‹çš„åŸå‹ï¼Œæ˜¯çˆ¶ç±»çš„åŸå‹ã€‚
```

## 4.5. åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿

```javaScript
// ES5 ä¸å…è®¸ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°å®šä¹‰å­ç±»
// ES6 å…è®¸ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°å®šä¹‰å­ç±»ï¼Œå› ä¸º ES6 æ˜¯å…ˆæ–°å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®é¥°thisï¼Œä½¿å¾—çˆ¶ç±»çš„æ‰€æœ‰è¡Œä¸ºéƒ½å¯ä»¥ç»§æ‰¿ã€‚
```
## 4.6. ğŸ”¥ Mixin æ¨¡å¼çš„å®ç°

```javaScript
function mix(...mixins) {
  class Mix {}

  for (let mixin of mixins) {
    copyProperties(Mix.prototype, mixin); // æ‹·è´å®ä¾‹å±æ€§
    copyProperties(Mix.prototype, Reflect.getPrototypeOf(mixin)); // æ‹·è´åŸå‹å±æ€§
  }

  return Mix;
}

function copyProperties(target, source) {
  for (let key of Reflect.ownKeys(source)) {
    if ( key !== "constructor"
      && key !== "prototype"
      && key !== "name"
    ) {
      let desc = Object.getOwnPropertyDescriptor(source, key);
      Object.defineProperty(target, key, desc);
    }
  }
}
// ä¸Šé¢ä»£ç çš„mixå‡½æ•°ï¼Œå¯ä»¥å°†å¤šä¸ªå¯¹è±¡åˆæˆä¸ºä¸€ä¸ªç±»ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œåªè¦ç»§æ‰¿è¿™ä¸ªç±»å³å¯ã€‚
```

```javaScript
// 
```

```javaScript
// 
```